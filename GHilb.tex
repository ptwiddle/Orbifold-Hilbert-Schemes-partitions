\documentclass{amsart}[12pt]
%\pdfoutput=1

\usepackage{tikz}
\usetikzlibrary{arrows} %for arrowtips 
\usepackage[sc]{mathpazo}
\usepackage{hyperref}
\usepackage{microtype}
\usepackage{tikz}
\usepackage{graphicx}
\usepackage{mathtools} %for \mathclap, fixing long subscripts in a summation
\linespread{1.2}
\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={red!80!black},
    citecolor={blue!80!black},
    urlcolor={blue!80!black}
}


\theoremstyle{definition}

\newtheorem*{theorem*}{Theorem}
\newtheorem{dummy}{}[section]
\newtheorem{theorem}[dummy]{Theorem}
\newtheorem{lemma}[dummy]{Lemma}
\newtheorem{example}[dummy]{Example}
\newtheorem{corollary}[dummy]{Corollary}
\newtheorem{definition}[dummy]{Definition}
\newtheorem{remark}[dummy]{Remark}
\newtheorem{proposition}[dummy]{Proposition}
\newtheorem{observation}{Observation}
\newtheorem{question}{Question}
\newtheorem{conjecture}[dummy]{Conjecture}
\newtheorem{warning}[dummy]{Warning}

\newcommand{\Z}{\mathbf{Z}}
\newcommand{\C}{\mathbf{C}}
\newcommand{\N}{\mathbf{N}}
\newcommand{\R}{\mathbf{R}}
\newcommand{\A}{\mathbf{A}}
\newcommand{\OO}{\mathcal{O}}
\newcommand{\LL}{\mathbf{L}}



\newcommand{\proj}{\mathbf{P}}
\newcommand{\core}{\mathbf{core}}
\newcommand{\irreps}{\text{irreps}}
\newcommand{\Var}{\mathbf{Var}}
\newcommand{\Top}{\mathbf{Top}}


\DeclareMathOperator{\Hilb}{Hilb}
\DeclareMathOperator{\Ext}{Ext}
\DeclareMathOperator{\Hom}{Hom}
\DeclareMathOperator{\DC}{DH}
\DeclareMathOperator{\Sym}{Sym}
\DeclareMathOperator{\Ker}{Ker}


\newcommand{\HG}{\Hilb}

\begin{document}
\begin{abstract}
We study the connection between the combinatoric of certain partition statistics and the topology of the Hilbert schemes of certain orbifold surfaces.
\end{abstract}


\title{Orbifold Hilbert schemes and a generalization of cores and quotients}


\author{Paul Johnson}
\address{University of Sheffield}
\email{paul.johnson@sheffield.ac.uk}


\maketitle
\setcounter{tocdepth}{2}
\tableofcontents
\section{Introduction}
\cite{GLMpower}

This paper is written for two largely distinct audiences.  On the one hand, we write for algebraic geometers interested in Hilbert schemes of points and orbifold surfaces.  On the other hand, combinatorialists studying partitions.  As such, there is more expository material than perhaps is standard. 

For geometers: there is much structure in the topology of Hilbert schemes of point on a smooth surface $S$: Gottsche, building on the work of Ellingsrud and Str\o mme for $\C^2$, found product formulas for generating functions of their cohomology.  Later, Grojnowski and Nakajima \cite{grojnowski, nakajimaheisenberg} explained these product formulas for geometric representation theory.  An important example here is when $S$ is the resolution of an ADE quotient signularity -- 

Following and extending work of , we investigate the topology of the structure of Hilbert schemes of points on the local models $\C^2/\Z_r$.  We conjecture explicit product formulas in this case, reminiscent of Gottsche's formula, in terms of the Chen-Ruan cohomology of $[\C^2/\Z_r]$.  

Turning to the connected components, we prove a stability result for the cohomology of orbifold Hilbert schemes, reminiscent of G\"ottsche's, as more and more \emph{smooth} points (equivalently, copies of the regular representation) are added.  We investigate components stuck of the origin, and show their dimension and the dimension of the corresponding ideals are given by piecewise quadratic functions, where the quadratic part is the intersection pairing on the minimal resolution.  We conjecture the action of a Heisenberg group modeled on the minimal resolution.

For combinatorialists: Cores and quotients of partitions initially arose in the study of the modular representation theory of the symmetric group, but have found roles in number theory and representation theory, among others.  A lesser known occurence is in the geometry of Hilbert schemes of points.  

Using this geometry as motivation, we introduce here some new partitions statistics, and use a generalization of cores and quotients of partitions to study them.  Our first statistic turns out out to be the size of our generalized quotient, and it counts cells where certain linear combinations of the arm and leg lengths satisfy a congruence condition.  We conjecture that $(q,t)$ counting partitions with respsect to size and this new statistic satisfy explicit product formulas that are $t$-analogs of the Euler product (or more generally, $t$-analogs of the formula for partitions coming from cores and quotients).  

We prove that ``$G$-core'' partitions are in bijection with lattice points, and their size is given by a piecewise quadratic function.  




Buryak conjectured \cite{Buryak}, and later proved with Feigin \cite{BF}, and simplified the proof with Nakajima \cite{BFN}, the following version. 

\begin{theorem}[Buryak-Feigin-Nakajima] \label{thm:BFN}
Let $\C^*$ act on $\C^2$ by $t\cdot (x,y)=(t^ax, t^by), a,b\geq 0$.  Then

$$\sum_{k,n} h^k(\Hilb_n(\C^2)^{\C^*})q^nt^k=\prod_{a+b } \frac{1}{1-q^\ell}\prod_{(a+b)|\ell} \frac{1}{1-q^\ell t}$$
\end{theorem}

The proofs given by Buryak-Feigin, and Buryak-Feigin-Nakajima are algebraic geometric, and go through quiver varieties.  An obvious first step in trying to prove our conjectures combinatorially would be to prove Theorem \ref{thm:BFN} combinatorially.  We give some evidence in Section \ref{sec:dyson} that maps generalizing Dyson's map might be the approach for this.



\subsection{Acknowledgements}

Research on this work was supported by NSF grant NUMBER HERE, and CITE TOM's GRANT?

Thanks to Amin Gholampour, Yunfeng Jiang, and Martijn Kool for asking a question that began this work, and to Tom Bridgeland for useful conversations.

\section{Background: Hilbert schemes of points on smooth surfaces}

\subsection{Introduction to Hilbert schemes}

Throughout, $R=\C[x,y]$ will be the polynomial ring in two variables.  

The Hilbert scheme of points in the plane parameterizes ideals $\mathcal{I}$ of $R$ of codimension $n$.
$$\Hilb_n(\C^2)=\{\mathcal{I}\subset R | \dim_\C R/\mathcal{I}=n\}$$
The space $\Hilb_n(\C^2)$ is smooth and connected of dimension $2n$.
d
Geometrically, $\Hilb_n(\C^2)$ should be thought of as follows.  Let $\Sym^n(\C^2)=(\C^2)^n/S_n$ be the set of $n$ onordered points in $\C^2$.  $\Sym^n(\C^2)$ is singular for $n>1$, with singularities occuring where the points are not unique.  
If $P=\{p_1,p_2,\dots, p_n\}$ is a set of $n$ distinct points in the plane, thenon the one hand the ideal $\mathcal{I}_{P}=\{f\in R| f(p)=0 \text{ for }p\in \mathbf{p}\}$ of functions vanishing on $P$ is in $\Hilb_n$.  If two of the points collide, there is still a limiting ideal $\mathcal{I}$ consisting of.  The resulting ideal is not reduced, and the non-reduced structure ``remembers'' some of how they collide.

The ring $R/\mathcal{I}$ is the structure ring of $n$ points, counted with multiplicity, in the plane; when points collide, they have a non-reduced scheme structure.  
v
\begin{example}
Let $(a,b)\neq (0,0)\in\C^2$, and let $P_t$ be the pair of distinct points $(0,0)$ and $(at,bt)$.  What is the limit of $\mathcal{I}_{P_t}$ as $t\to 0$?


The ideal $\mathcal{I}_{P_t}$ of functions vanishing on these points is 
$$(\{x,y\})(\{x-at,y-bt\})=(\{x(x-at),x(y-bt), y(x-at), y(y-bt)\}$$
Setting $t=0$, we see that the limiting ideal should contain $x^2, xy$ and $y^2$.  If it were just the ideal generated by these three monomials, it would have codimension 3, not two, so it must contain something else.

Taking the difference of the the middle two generators, we see that $\mathcal{I}_{P_t}$ contains the element $btx-aty$, and since it is an ideal and $t$ is a nonzero scalar, it must contain $bx-ay$.  Since this element is independent of $t$, we see that it certain should be contained in the limit as well; including this along with all monomials of degree two or higher gives an ideal of codimension 2 as desired.

Another way of writing the ideal $\mathcal{I}_{P_0}$ is as 
$$\mathcal{I}_{P_0}=\{f\in R| f(0)=\partial_vf(0)=0\}$$
where here $v=(a,b)$ is the direction the two points collided in.  Thus, the non-reduced scheme structure at $\mathcal{I}_{P_0}$ \emph{remembers} the direction the in which the points collided. 
\end{example}

\begin{definition}
The \emph{Hilbert-Chow morphism} $HC:\Hilb_n(S)\to\Sym^n(S)$ sends an ideal $\mathcal{I}$ to 
$$HC:\mathcal{I}\mapsto \sum_{p\in S} \dim_p (R/\mathcal{I})$$
\end{definition}


For $n=1$, the Hilbert-Chow morphism is n isomorphism $\Hilb_1(S)\to S$.  When $n=2$, $HC$ is an isomorphism over the locus of distinct points, while over any point $2p\in\Sym^2(S)$, the fiber of $HC$ is a $\proj^1$.

The Hilbert-Chow morphism is a resolution of singularities.


The torus $(\C^*)^2$ acts on the plane $\C^2$ in the obvious way, $(s,t)\cdot (\alpha,\beta)=(s\alpha,t\beta)$ and hence on $R=\C[x,y]$ and $\Hilb_n(\C^2)$.  

\begin{warning} \label{warning:action-sign}

 The elements of $R$ are functions on $\C^2$, and thus $(\C^*)^2$ acts with \emph{opposite} weights as might naively be expected, that is 
$$(s,t)\cdot x^ny^m=s^{-n}t^{-m}x^ny^m$$

\end{warning}

\begin{definition}
The \emph{tautological bundle} $\mathbb{E}$ over the Hilbert scheme of points has fiber $R/\mathcal{I}$ over $\mathcal{I}$; it is a rank $n$ bundle on $\Hilb_n$.
\end{definition}


\subsection{Structure in the Topology of Hilbert schemes}


The main motivation of this work is the structure found in the topology of Hilbert schemes of points in surfaces.  This section recalls this structure.

Perhaps the key point in these results is the appears simpler when looking at the Hilbert schemes together for all $n$, rather than just for any fixed $n$.  

\begin{definition}
A \emph{graded space} $X$ is just a disjoint union $$X=\amalg_{n\in\Z} X_n$$
Often our spaces will be positively graded, and we will denote the graded space as formal power series with coefficients in $\Var, \Top$, etc.

$$X=\oplus X_nq^n$$
\end{definition}


This is manifested on the first level by product formulas.  
\begin{definition}
Let 
$$\HG_S=\bigoplus_{n=0}^\infty \Hilb_n(S)q^n$$
\end{definition}

\begin{definition}
For a space $X$, the Poincare polynomial 
$$P_t(X)=\sum_{k=0}^\infty b_k(X)$$
If $X$ is a graded topological space, with finite dimensional graded pieces, then $P_t(X)$ is naturally an element of $\Z[t][[q]]$.
\end{definition}


\begin{definition}
The \emph{Grothendieck ring of varieties} $K_0(\Var_k)$ is a quotient of the free abelian group on the set of isomorphism classes of varities over $k$.  We quotient out by relations of the form
$$[X]=[Y]+[X\setminus Y]$$
whenever $Y$ is a closed subvariety of $X$.   

The product structure is given by
$$[X]\times [Y]=[X\times Y]$$
\end{definition}

\begin{example}[Projective space]
The fact that the Riemann sphere is obtained from $\C$ by adding a point at infinity translates to the identity $[\proj^1]=\LL+1$.

More generally, the decomposition $\proj^n=\C^n\cup \proj^{n-1}$ gives
$$[\proj^n]=\LL^n+[\proj^{n-1}]=\LL^n+\LL^{n-1}+\cdots 1=\frac{1-\LL^{n+1}}{1-\LL}$$

\end{example}


The first such product formula was the following result of 

The study of the topology of $\Hilb_n(S)$ began with the following result:
\begin{theorem}[Ellingsrud and Str\o mme \cite{ES}]
$$P_t(\HG_S)=\prod_{\ell=1}^\infty \frac{1}{1-t^{2\ell-2}q^\ell}$$
$$[\HG_S]=\prod_{\ell=1}^\infty \frac{1}{1-\LL^{\ell +1}q^\ell}$$
\end{theorem}



Ellingsrud and Str\o mme actually focused more on $\Hilb_n(\proj^2)$.  We recount their proof in the next two sections as the geometric content of our work is essentially a small continuation of their methods.



G\"o ttsche extended 

\begin{theorem}[G\"ottsche, \cite{gottsche}]
Let $S$ be a smooth quasiprojective surface, and when $b_i$ appears in isolation, let it be $b_i(S)$.  Then:
$$P_t(\HG_S)=\prod_{\ell\geq 1} \frac{(1+t^{2\ell-1}q^\ell)^{b_1}(1+t^{2\ell+1}q^\ell)^{b_3}}{(1-t^{2\ell-2}q^\ell)^{b_0}(1-t^{2\ell}q^\ell)^{b_2}(1-t^{2\ell+2}q^\ell)^{b_4}}$$
\end{theorem}

G\"ottsche's original proof used the Weil conjectures to reduce to the local model of the smooth surfaces, $S=\C^2$, where his formula is exactly Ellingsrud and Str\o mme's result.

Later proofs used power structures on the Grothendieck ring of varieties to  ...
.  This power structure was extended to orbifolds in \cite{}, and so the missing piece is an analogous result to Ellingsrud-Str\o mme for the local models of orbifold surfaces, namely $\C^2/G$ for $G$ a finite group.  

\subsubsection{Corollaries and extensions of G\"ottsche}
We will also investigate orbifold analogs of several results closely related to G\"ottsche's formula.

First, G\"ottsche observed the following easy corollary to his formula:
\begin{corollary}  Suppose $S$ is connected.
Then for fixed $k$ and large $n$, $b_{k}(S^{[n]})$ stabilizes
\end{corollary}

The point is that there is exactly one factor in the product formula that has no $t$'s, namely $1/(1-q)$.  If we remove this term, we may expand the product as a series in $t$ with coefficients polynomials in $q$.

Grojnowski and Nakajima \cite{grojnowski, nakajimaheisenberg} gave another proof by categorifying G\"ottsche's formula.  The power series on the right hand side is the $(q,t)$ character of the highest weight representation of the Heisenberg algebra modeled on $H^*(S)$.  Thus, one is lead to hope that the vector space 
$$H^*(\HG_S)=\bigoplus_{k\geq 0} H^k()$$
can naturally be given an action of this Heisenberg algebra.  This is exactly what Grojnowski and Nakajima did, using nested Hilbert schemes of points.  This result categorifies G\"ottsche's formula, and gives another proof of it.

In case the quasiprojective surface $S$ is the minimal resolution of the ADE singularity, this Heisenberg action is part of a quantumn group action for the corresponding semisimple quantum group.

Further categorifications of this action are areas of active study; the Heisenberg action on $\HG_{\C^2}$ is related to, while in case $S$ is the resolution of an ADE singularity the action has been further categorified by Cautis and Licata \cite{CL}, and the quantum group action in \cite{CL2}.

Heisenberg actions on $K^*(\HG_{\C^2})$ have been studied and related to shuffle algberas in \cite{FT, SV}.


\subsection{Proof of \texorpdfstring{Proof of Ellingsrud and Str\o mme}{Proof of Ellingsrud and Stromme}}

In this section we present a detailed proof of Ellingsrud and Str\o mme's result.  Many proofs of this are in the literature; for instance \cite{cheah} (IS IT IN THIS OR ONLY THE THESIS?) gives a largely combinatorial one, and \cite{nakajimabook}   Our proof is essentially the combinatorial one in \cite{cheah}, or , but made more so in that we use the boundary path of the partition instead of ``systems of arrows''.  







\subsubsection{Bia\l ynicki-Birula decomposition}
Proved using the Bia\l ynicki-Birula decomposition.  The Bia\l ynicki-Birula decomosition should be understood in analogy with Morse theory.  

The role of the Morse flow will be played by the flow $x\mapsto \varepsilon x$ as $\varepsilon\in\C^*$ tends toward zero.  We assume that the $\C^*$ action on $X$ is such that this limit point exists for all $x\in X$.  

Let $p$ be a fixed point of the $\C^*$ action.  Then linearizing the $\C^*$ action on $X$ gives a $\C^*$ action on $T_pX$, and so $T_pX$ is not just a vector space but a $\C^*$ representation, and hence decomposes into a direct sum of irreducible representations.  Let $V_a$ denote the irreducible representation of $\C^*$ where $\varepsilon\in\C^*$ acts as $\varepsilon^a$.  

Let $T_p^+X$ (respectively $T_p^-X$) denote the subspace of $T_pX$ where the $\C^*$ action acts with a positive (respectively negative) exponent.  I.e., if

$$T_pX=\bigoplus_{n\in\Z} V_n^{e_n}$$
then

Let 
$$\mathcal{S}_p=\{x\in X|\lim_{\varepsilon\to 0} \varepsilon x=p\}$$
Then clearly we have $X=\sqcup_{p}\mathcal{S}_p$; the point is that $\mathcal{S}_p$ is a subvariety isomorphic to $\C^{\iota(p)}$.



We first observe that $V_0$ cannot occur in $T_pX$, as 

We saw in Section [REFER BACK TO ] that if $X$ is a variety with a $\C^*$ action with $k$ isolated fixed points, then $\chi(X)=k$.  If we know the weights of the $\C^*$ action on the tangent spaces of the fixed points, the Bia\l ynicki-Birula decomposition leverages this result to give the betti numbers of $X$, or even further the class of $X$ in the Grothendieck ring of varieties.

\subsubsection{Tangent space to a monomial ideal}
To apply the Bia\l ynicki-Birula decomposition to $\Hilb_n(\C^2)$, one must have a $\C^*$-action with eights of the $\C^*$ action on $T_\lambda\Hilb_n(\C^2)$.

\begin{lemma}[Ellingsrud and Str\o mme \cite{ES}] \label{lem:torus-weights}
$$T_\lambda \Hilb_n(\C^2)=\sum_{\square\in\lambda} \left(x^{-\ell(\square)} y^{a(\square)+1}+x^{\ell(\square)+1}y^{-a(\square)}\right)$$
\end{lemma}

Before giving a proof, we show how Lemma \ref{lem:torus-weights} implies Ellingsrud and Str\o mme's results. 

To apply Bia\l ynicki-Birula, one needs a $\C^*$ action with isolated fixed points, not a $(\C^*)^2$ action.  The solution is to pick any generic subtorus.  

The common choice is to pick the torus with action $(1,\varepsilon)$.  The choice of subtorus weights should be integer numbers, and by $(1,\varepsilon)$ we mean an action $(N,1)$ with $N>>1$.  

When restricted to the subtorus with weights $(1,\varepsilon)$ the terms $x^{-\ell(\square)} y^{a(\square)+1}$ and $x^{\ell(\square)+1}y^{-a(\square)}$ in Lemma \ref{lem:torus-weights} become weights $(-\ell(\square)+\varepsilon(a(\square)+1)$, which is positive if and only if $\ell(\square)=0$, and $\ell(\square)+1 -\varepsilon a(\square)$, which is always positive.  

The squares with $\ell(\square)=0$ are exactly the rightmost squares in each row of $\lambda$.  Hence if we view the rows of $\lambda$ as the parts, the number of squares with $\ell(\square)=0$ is precisely the length $\ell(\lambda)$.  Together with the Bia\l ynicki-Birula decomposition, and the sign convention, this proves Ellingsrud-Str\o mme. 


It should be noted that although any generic $\C^*$ action will have isolated fixed points, and hence can be used to compute the cohomology of $\Hilb_n(\C^2)$, different $\C^*$ action will provide different statistics.  However, since all these statistics compute the same thing, they must be equidistributed.  This was apparently first observed geometrically by Haiman, and Loehr and Warrington gave a combinatorial proof in \cite{LW}, furthermore they extend the statistics to the non-isolated case.  It would be interesting to have a geometric understanding of the bijections in \cite{LW}.



We begin with the following the description of the the tangent space to the Hilbert scheme:

\begin{lemma} \label{lem:tangent-hom}
$$T_{\mathcal{I}}\Hilb_n(\C^2)=\Hom_R(\mathcal{I},R/\mathcal{I})$$
\end{lemma}

Lemma \ref{lem:tangent-hom} actually holds in any dimension, for any smooth variety.

Before giving a quick proof, we give a plausibility argument in analogy with the Grassmannian.  If $V\subset W$ is a $k$ dimensional subspace, then $T_V Gr_k(W)=\Hom(V, V^\perp)=\Hom(V, W/V)$.  This gives a description of the deformations of $\mathcal{I}$ as a vector subspace of $R$.  For the deformation to remain an ideal it is plausible that we should require the deformation to be a map of $R$ modules and not just vector spaces.

\begin{proof}
More formally, it is a general fact that first order deformations of objects are given by $\Ext^1(\mathcal{F},\mathcal{F})$, and obstructions to these deformations are given by $\Ext^2(\mathcal{F},\mathcal{F})$; starting from this fact and considering the long exact sequences by taking $\Hom(\mathcal{I}, -)$ to
$$0\to \mathcal{I}\to R\to R/\mathcal{I}\to 0$$
gives 
$$0\to\Hom(\mathcal{I},\mathcal{I})\to \Hom(\mathcal{I}, R)\to\Hom(\mathcal{I},R/\mathcal{I})\to\Ext^1(\mathcal{I}, \mathcal{I})\to\Ext^1(\mathcal{I},R)$$
Since $\mathcal{I}$ is an ideal that eventually contains $x^n, y^m$, we have $\Hom(\mathcal{I},\mathcal{I})\cong\Hom(\mathcal{I}, R)$ and $\Ext^1(\mathcal{I},R)=0$, and so indeed we have $\Hom(\mathcal{I},R/\mathcal{I})\cong\Ext^1(\mathcal{I}, \mathcal{I})$.
\end{proof}

We can now complete the proof of the tangent weight statement.


Let $T_\lambda^{a,b}$ denote the $(a,b)$-isotypical component of $T_{\mathcal{I}_\lambda}\Hilb_n(\C^2)$.  Let $f\in\Hom(\mathcal{I}_\lambda, R/\mathcal{I}_\lambda)$ have weight $(a,b)$.
$$f(x^{\alpha}y^\beta)=cx^{\alpha-a}y^{\beta-b}$$
for some constant $c_{\alpha, \beta}$ (that can be different for different monomials).  


Let $P_\lambda$ be the boundary path of $\lambda$; for $(a,b)$ in $\Z^2$, let $P_\lambda(a,b)$ denote the boundary path of $\lambda$ shifted to the right by $a$ and up by $b$.

\begin{lemma} Let $B_\lambda(a,b)$ be the set of bounded regions above $P_\lambda$ and below $P_\lambda(a,b)$.  For $U\in B_\lambda(a,b)$, let $f_U$ denote the map that multiplies monomials in $U$ by $x^{-a}y^{-b}$ and sends monomials not in $B_\lambda(a,b)$ to $0$.  Then the $f_U$ form a basis for $T_\lambda^{a,b}$.
\end{lemma}

\begin{proof}
To be a map of $R$-modules the map must commute with multipication by $x$ and $y$.  Thus, if $x^{\alpha-a+1}y^{\beta-b}\notin \mathcal{I}$, we must have $c_{\alpha+1,\beta}=c_{\alpha,\beta}$, and similarly with $y$.  Thus, to be a map of $R$-modules, we see that monomials in the same component must get multiplied by the same constant.

If a region is not bounded, then one of the generators of $\mathcal{I}$ contained in that region would be mapped to a monomial with negative exponents, which it can't do; therefore it must be multiplied by 0.
\end{proof}


We now prove Lemma \ref{lem:torus-weights}.  First, observe that $T_\lambda^{(a,b)}$ is empty if $(a,b)$ are both negative or both non-negative.  If both are non-negative, then there are no cells at all below $P_\lambda(a,b)$ and above $P_\lambda$.  If both are positive, then the cells below $P_\lambda(a,b)$ and $P_\lambda$ form a single unbounded region.  

\begin{tikzpicture}[scale=.5]
\draw[thin] (0,0) grid (5,10);
\begin{scope}[xshift=-.1cm, yshift=-.1cm]
\draw[thick, red,  triangle 60 reversed-triangle 60] (0,10)--(0,7)--(1,7)--(1,4)--(2,4)--(2,1)--(4,1)--(4,0)--(5,0);
\end{scope}
\begin{scope}[xshift=.1cm, yshift=2.1cm]
\draw[thick, blue,  triangle 60 reversed-triangle 60] (0,10)--(0,7)--(1,7)--(1,4)--(2,4)--(2,1)--(4,1)--(4,0)--(5,0);
\end{scope}



\end{tikzpicture}


Thus, exactly one of $a,b$ is negative; assume it is $a$.  We must show that the elements of $B_\lambda(a,b)$ are in bijection with the cells $\square\in\lambda$ having  $a=\ell(\square)$ and $b=-a(\square)-1$ (recall the sign from Warning \ref{warning:action-sign}.

Consider a region of cells above $P_\lambda$ and below $P_\lambda(-a,-b)$.  There are two possible directions this region could be unbounded -- along the positive $y$ or $x$-axes.  Since $b$ is positive, there are no squares far along the $x$-axis both below $P_\lambda(-a,-b)$  and above $P_\lambda$, and so the region is automatically bounded in that direction.  

We must therefore guarantee the region is bounded at the bottom right.  This will happen when a South step of $P_\lambda$ starts at the same point as East step of $P_\lambda(-a,-b)$.  

Bounded cells well thus be in bijection with pairs of such cells.  Translating the East step back $(a,b)$ to its original place on the boundary strip, we find these two steps give an inversion in the $P_\lambda$ and hence a cell of $\lambda$.  The arm length of this cell will be $b+1$, and the leg will have size $a$. 

An analogous argument shows that tangent directions with $b$ negative correspond to the other terms in the sum.




\section{Background: Hilbert schemes of points on orbifolds}


\subsection{Orbfiolds and stacks}
We turn now to Hilbert schemes on orbifolds.  An orbifold is, first of all, a space where every point has a neighborhood isomorphic to $\C^n/G$, where $G$ is a finite group.  Viewed this way, orbifolds are mildly singular spaces.  

Instead, it is often better to take the stacky point of view, in which we change categories, giving 


In the naive point of view, the local model is $G$-invariant objects of $\C^n$; in the stacky point of view, this is replaced with $G$-equivariant behavior.  Rather than 



\subsection{Orbifold Hilbert schemes}




Thus, the Hilbert scheme of $n$ points on $\C^2/G$ should parameterize $G$-equivariant ideals of $R$, which are $G$-invariant ideals.  
$$\Hilb_n(\C^2/G)=\{\mathcal{I}\subset R | \} =\Hilb_n(\C^2)^G$$

Viewing $\Hilb_n([\C^2/G])$ as the fixed point set of the $G$ action on $\C^2$ is much simpler than the stack theoretic viewpoint, and will be our min way of dealing with the stacks.  However, the stack theoretic viewpoint our motivation -- from this point of view, orbifolds should be have like smooth spaces, and hence one is lead to look for analogs of G\"ottsche's formula for them.


As the fixed point of a finite group acting on a smooth space, we immediately see that $\Hilb_n([\C^2/G])$ are smooth.



\begin{example}
$\Hilb_1([X/G])=X^G$, the fixed point set of $G$.  This is distractly different behavior than Hilbert schemes on spaces, where $\Hilb_1(S)=S$.
\end{example}

\begin{example}
We now look at $\Hilb_2([\C^2/G])$ for $G=\Z_2, \Z_3$.  

First, we examine $\Z_2$, where the nontrivial elements acts on $\C^2$ by multiplication by $-1: (s,t)\mapsto (-s,-t)$.  First, we look at the fixed points where the two points are distinct: it sends a pair of distinct pounts $\{p,q\}$ to $\{-p,-q\}$, and so this is fixed if and only if $p=-q$.  As long as $p\neq 0, -p\neq p$, and so we see that this locus is isomrophic to $\C^2\setminus\{(0,0)/\Z^2$.

Now we examine this action over the locus where the two points are identical.  First, if the scheme is supported at $p$, then its image under the $\Z_2$ action is supported at $-p$, and so to be fixed it must be supported over $0$.  Furthermore, any ideal supported at $0$ will be $\Z_2$ invariant -- the group action just multiplies $x, y$ by $-1$, and we had a basis that was

There are two $\Z_3$ actions on $\C^2$ with an isolated fixed point -- the diagonal action and the anti-diagonal action.

In either case, there are no fixed points on $\Hilb_2(\C^2)$ away from the locus where both points are supported at 0.  

In the diagonal case, the same argument as in the $\Z_2$ case shows that any ideal supported over the origin will be invariant, and we have
$$\Hilb_2(S_{1/3})=\proj^1$$.

In the anti-diagonal case, $x$ and $y$ are scaled by different numbers.  So the only linear generator of $\mathcal{I}, bx-ay$, will not be fixed unless $b=0$ or $a=0$, and so we see that $\Hilb_2(S_{2/3})$ consists of two points.  

Here we have another marked difference from the case of non-orbifold surfaces: Hilbert schemes of points on orbifolds need not be connected.

\end{example}

The fact that orbifold Hilbert schemes are disconnected is easily explained by a discrete invariant.  Since $R, \mathcal{I}$ both have $G$ actions, the module $R/\mathcal{I}$ is not just a vector space but a representation of $G$.  These are discrete invariants, and so obviously one representation of $G$ cannot deform into another.  

\begin{definition}
For $v$ a representation of $G$, we define
$$\Hilb_v(\C^2/G)=\{\mathcal{I}|R/\mathcal{I}=v\}$$
\end{definition}

It turns out the $\Hilb_v$ are connected.  

The tautological bundle on $\Hilb_n$ splits into $r$ distinct tautological bundles, according to how the group $G$ acts 


This discussion also helps explain why increasing $n$ a point does not correspond to a smooth point of $\C^2/G$.  Smooth points of $\C^2/G$ correspond to points in $\C^2$ where $G$ acts freely.  If $\mathcal{O}_{Gp}$ is the structure sheaf of the orbit of such a point, then $G$ acts on $\mathcal{O}_{Gp}$ as the regular representation.  Thuss

Thus, the generic point of $\Hilb_{\C[G]}({\C^2/G})$ -- often called $G-\Hilb$ in the literature -- will correspond to a smooth point of $\C^2/G$.  However, $G-\Hilb$ is smooth from our discussion before, and since the image of the Hilbert-Chow morphism is the $G$ invariant sets, we really have a map $G-\Hilb\to \C^2/G$ that is an isomorphism away from the singular points, and so we see $G-\Hilb$ is a resolution of $\C^2/G$. 

\begin{center}
\begin{tikzpicture}[scale=.5]
\draw(0,-4) node{$\widetilde{S}_{1/2}$};
\draw[-latex] (3,0)--(9,0);

\draw (0,2.236) ellipse (2 and 1);
\draw (0,-2.236) ellipse (2 and 1);
\draw[red] (0,0) ellipse (2 and 1);
\fill[white] (-2,0)--(2,0)--(2,1.1)--(-2,1.1)--cycle;
\fill[white] (-2,-2.336)--(2,-2.336)--(2,-1.136)--(-2,-1.136)--cycle;
\draw[dashed] (0,-2.236) ellipse (2 and 1);
\draw[red,dashed] (0,0) ellipse (2 and 1);

\draw (2,2.236)--(2,-2.236);
\draw (-2,2.236)--(-2,-2.236);

\begin{scope}[xshift=12cm]
\draw (0,-4) node{$S_{1/2}$};
\draw (0,2.236) ellipse (2 and 1);
\draw (0,-2.236) ellipse (2 and 1);
\fill[white] (0,0)--(1.7888, -1.7888)--(-1.7888,-1.7888)--cycle;
\draw (-1.7888,-1.7888) -- (1.78888,  1.7888);
\draw (1.7888,-1.7888) -- (-1.78888,  1.7888);
\draw[dashed] (0,-2.236) ellipse (2 and 1);
\end{scope}
\end{tikzpicture}
\end{center}

In fact, singularities of the form $\C^2/G$ have a unique minimal resolution, and $G-\Hilb$ is this resolution:





\begin{theorem} \label{thm:GHilb-resolution}
The map $G-\Hilb\to \C^2/G$ is the minimal resolution.
\end{theorem}

Theorem \ref{thm:GHilb-resolution} is useful because it gives a modular interpretation of the minimal resolution.  It also shows the geometry of the minimal resolution appearing.

The resolution of the $\C^2/G$ singularity is rational; hence the exceptional locus is a tree of $\proj^1$'s joining together.  In case $G$ is cyclic, the resolution is actually a chain of rational curves with negative self intersection.  See Chapter 10 of \cite{toric} for a thorough discussion of this.

\begin{center}
\begin{tikzpicture}[xscale=.75]
\draw plot [smooth, tension=1] coordinates {(0,0) (2,.5) (4,0)};
\draw plot [smooth, tension=1] coordinates {(3,0) (5,.5) (7,0)};
\draw plot [smooth, tension=1] coordinates {(6,0) (8,.5) (10,0)};
\draw plot [smooth, tension=1] coordinates {(9,0) (11,.5) (13,0)};

\draw (2,1) node{$-2$};
\draw (5,1) node{$-4$};
\draw (8,1) node{$-3$};
\draw (11,1) node{$-3$};

\end{tikzpicture}
\end{center}

$$
\begin{bmatrix}
-2 & 1 & 0 & 0 \\
1 & -4 & 1 & 0 \\
0 & 1 & -3 & 1 \\
0 & 0 & 1 & -3 
\end{bmatrix}
$$

The number and self-intersection of the components of the exception divisor are given by the \emph{Hirzebruch-Jung} continued fraction expansion of $r/a$.  That is, if we write
$$
\frac{r}{a}=b_1-\cfrac{1}{b_2-\cfrac{1}{b_3-\cfrac{1}{\cdots - \cfrac{1}{b_r}}}}
$$  
then the exception divisor as $r$ components in a chain, and the $i$th component has self-intersection $-b_i$. 

\begin{example}[Diagonal action]
Consider the diagonal action of $\Z_r$ on $\C^2$; this corresponds to $a=1$, and so the Hirzebruch-Jung continued fraction is simply $r/1=r$.  The exceptional divisor consists of one component with self intersection $-r$.

\end{example}


\begin{example}[The anti-diagonal case]  
In this case, the Hirzebruch-Jung continued fraction is
$$r/(r-1)=\underbrace{2-\cfrac{1}{2-\cfrac{1}{\cdots-\cfrac{1}{2}}}}_{\text{$r-1$ times}}$$
Thus, the resolution consists of a chain $r-1$ -2 curves.
\end{example}

\begin{example}[The other $\Z_5$ case]
As a final example, consder $\Z_5$ acting with weights $(1,2)$.  Switching the role of $x$ and $y$, this is equivalent to $\Z_5$ acting with weights $(1,3)$.

We have the continued fraction expansions
$$5/2=3-\cfrac{1}{2}$$
$$5/3=2-\cfrac{1}{3}$$
The minimal resolution thus consists of a -3 curve meeting a -2 curve; the choice of which direction we choose as $x$ and $y$ corresponds to which edge of the chain we start at.
\end{example}

The intersection pairing of the minimal resolution $\widetilde{S}_{a/r}$ will play an important role later.  The components of the exception curve form a basis for 


\subsection{McKay Correspondence}
The McKay correspondence is relates the geometry of $\widetilde{S}_G$ to the representation theory of $G$.

\begin{definition}
Let $G$ be a finite group, and $W$ a representation of $G$.  The \emph{McKay graph} $\Gamma_V$ is the directed graph with vertex set $\irreps(G)$, and if $U$ and $V$ are two irreps of $G$, the multiplicity of the edges from $U$ to $V$ is the multiplicity of $V$ in $U\otimes W$.
\end{definition}

The subgroups of $SU_2$ have an ADE classification.  There are two infinite series: cyclic groups, binary dihedral groups, and double covers of the isometries of the symmetries of the platonic solids.

McKay observed that when $G\subset SL_2(\C)$, the McKay graph of the defining two dimension representation was the \emph{affine} version of the corresponding ADE Dynkin diagram.  Removing the vertex corresponding to the trivial representation gives the usual ADE Dynkin diagram.  Furthermore, the exceptional locus of the minimal resolution $\widetilde{S}_G$ of the corresponding singularity has all $-2$ curves, with dual graph the corresponding Dynkin diagram. 

The description of the minimal resolution $\widetilde{S}_G$ as $G-\Hilb$ gives an explanation of this.  For an irrep $\rho$ of $G$, we have on the one hand a tautological bundle $\mathbb{E}_\rho$ over $G-\Hilb$, and on the other hand a vertex of the McKay graph.  

$$c_1(\mathbb{E}_\rho)=E_\rho$$

\subsection{The special McKay correspondence}

When $G$ is not in $SL_2$, the number of components in the exception divisor of $\widetilde{S}_G$ is strictly less than the number of nontrivial irreducible representations of $G$.  The special McKay correspondence picks out a subset of the irreps of $G$, called the \emph{special} representations, and gives a labeling of the irreducible components of the exception divisor of $G$ by the special representations, so that we still have $c_1(\mathbb{E}_\rho)=E_\rho$.


\subsection{Colored square counting}

The core construction helps us with the colored box square counting:

Consider the function
$$P_G(q_0,\dots,q_{r-1})=\sum_{\lambda\in\mathcal{P}} \mathbf{q}^{|\lambda|^G}$$
where 
$$\mathbf{q}^{|\lambda|_G}=\prod_{i=0}^{r-1} q_i^{|\lambda|^G_i}$$
that counts partitions according to their full colored square count as opposed to just their size; alternatively, the coefficient of $\mathbf{q}^v$ is the euler characteristic of $\Hilb_v([\C^2/G])$.

What can we say about $P_G$?  First, we consider the case where $G\subset SL_2$.  Let $Q=q_0q_1\cdots q_{r-1}$.  The core construction gives
$$P_G=\prod_{i=1}^\infty\frac{1}{(1-Q^i)^r} \sum_{w} Q^{A(w)}\mathbf{q}^w $$
Thus, we see in this case $P_G$ is a multivariable theta function.

In case $r=2$, this has an infinite product expansion using the Jacobi identity.  In fact, work of Boulet shows that actually the case $G=\Z_2\times \Z_2$ has an infinite product expansion.  Letting $q_{00}, q_{01}, q_{10}, q_{11}$ denote the variables, we have

\begin{theorem}[Boulet \cite{boulet}]
$$P_{\Z_2\times\Z_2}=\prod_{i=1}^\infty \frac{(1+q_{00}^jq_{01}^{j-1}q_{10}^{j-1}q_{11}^{j-1})(1+q_{00}^jq_{01}^jq_{10}^jq_{11}^{j-1})}{(1-q_{00}^jq_{01}^jq_{10}^jq_{11}^j)(1-q_{00}^jq_{01}^jq_{10}^{j-1}q_{11}^{j-1})(1-q_{00}^jq_{01}^{j-1}q_{10}^{j}q_{11}^{j-1})}$$
\end{theorem}

However, even the one variable specialization $P_{\Z_3}(q,1,1)$ does not have a nice infinite product expression, as observed by Bal\'azs Szendr\"oi \cite{Bmo}; as it has a root at $-e^{\pi/\sqrt{3}}$ \cite{Borwein2}.


\subsection{Hilbert schemes of points in the plane}


That is, we look for 
$$\DC_G(q,t):=\sum_{n,k\geq 0 } b_k(\Hilb_n([\C^2/G])) t^kq^n$$







\subsubsection{Homological stability}

The analogs of stabilization and geometric representation theory work on the level of connected Hilbert scheme.

\begin{theorem} 
$P_t(\Hilb^{\delta+nG}_G)$ stabilizes to $1/(t,t)_\infty^{|G|}$
\end{theorem}
Note that the right hand side is independent of $m$ and $\delta$.
\begin{proof} Combinatorics -- a generalization of cores and quotients of partitions \end{proof}

\begin{conjecture}
The stable cohomology of $\Hilb^{\delta+nG}$ is freely generated by the Chern classes of the $|G|$ tautological bundles.
\end{conjecture}



\subsubsection{Heisenberg Action}


\begin{conjecture}
Let $\delta\in K_0(G)$ be small, and $G$ cyclic.  Then
$$\bigoplus_{k\geq 0} H_*(\Hilb^{\delta+kG}_G)$$ admits the action of a Heisenberg algebra based on the cohomology of the minimal resolution of $\C^2/G$.
\end{conjecture}

Evidence:
Let $c$ be the number of rational curves in the minimal resolution of $\C^2/G$.  Then
$$\mathcal{CH}^\delta_G\cdot(q,qt^2)_\infty\cdot (qt^2,qt^2)_\infty^c$$
has positive coefficients; but higher powers start giving negative coefficients.


\subsubsection{Resolutions of $(\C^2/G)^n/S_n$}
One family of resolutions

Let $X_G$ be the minimal resolution of $\C^2/G$.  Then $\Hilb_n(X_G)$ is a resolution of $(\C^2/G)^n/S_n$.


Another family of resolutions

Let $\delta\in K^0(G)$ be such that $\Hilb^\delta([\C^2/G])=pt$.  Then $\Hilb^{\delta+nG}([\C^2/G])$ is a resolution of $(\C^2/G)^n/S_n$.  



Stabilization implies that for fixed $\delta$, and large $n$, this second resolution will be bigger than the first resolution.

Changing Stability?
But, it seems as $\delta\to\infty$, this second family of resolutions converges to the first.


\section{Warm-up: Cores, quotients, and the antidiagonal case}




\subsection{Riemann-Roch}

Although groups $\Ext(\mathcal{F},\mathcal{G})$ depend delicately on the sheaves involved, the Euler pairing
$$\chi(\mathcal{F},\mathcal{G})=\sum_{i\geq 0} \Ext^i(\mathcal{F},\mathcal{G})$$
only depends upon the $K$-theory classes of $\mathcal{F}$ and $\mathcal{G}$.

\begin{example}
Let $p$ and $q$ be two points of $\C^2$.  If $p\neq q$, then the structure sheaves $\mathcal{O}_p$ and $\mathcal{O}_q$ have disjoint support, and so $\Ext^i(\mathcal{O}_p,\mathcal{O}_q)=0$ for all $i$.

If $p=q$, however, we have 
\begin{eqnarray*}
\Ext^0(\mathcal{O}_p,\mathcal{O}_p)&=&1\\
\Ext^1(\mathcal{O}_p,\mathcal{O}_p)&=&2\\
\Ext^2(\mathcal{O}_p,\mathcal{O}_p)&=&1 
\end{eqnarray*}

In both cases, however, we have $\chi(\mathcal{O}_p,\mathcal{O}_q)=0$.
\end{example}

Similarly, we have an orbifold Riemann-Roch pairing on $K^0([\C^2/G])$.  The Euler form is given by the McKay pairing with $\bigwedge^* \C^2$ in this case.  Note that $[V_G]$ is in the kernel of the McKay pairing -- geometrically, this corresponds to the fact that adding a smooth point on $[\C^2/G]$ will change the $K^0$ theory class by $V_G$, but the smooth point may be added disjoint from the support of the rest of the sheaf and the sheaf it is being paired with and hence not change.

Thus, the Euler pairing $\chi$ descends to a pairing on $K^0(G)/V_G$.  We will want to make use of a subspace of $K^0(G)$ instead of vectors summing to zero.  As vector spaces, thus subspace plus multiples of $V_G$ spans all of $K^0(G)$, but not as lattices; therefore for $G$ abelian we introduce the space 
$$S^0_G=\left\{v\in K^0(G; \Z[1/|G|])\Bigg | \sum_{\chi\in\irreps(G)}(\chi, v)=0\right\}$$

\begin{definition}
Let $v\in S^0_G$.  Then $\core(v)\in K^0(G)$ is the smallest class so that $\Hilb_{\core(v)}(\C^2/G)$ is nonempty.
\end{definition}


\begin{lemma} Suppose that $G\in SL_2$. Then
$$\core(v)=v+(\frac{1}{2}Q_M(v,v)-v_0)[V_G]$$
In particular, we see $\core(v)$ is a quadratic function of $v$.
\end{lemma}

\begin{proof}
By definition, $|\core(v)|^G=v+M[V_G]$ for some $M\in\Z[1/|G|]$; we must find $M$.

Let $\OO_v=R/\mathcal{I}$ for any element $\mathcal{I}\in\Hilb_{v+M[V_G]}$.  Expanding $\chi(v+M[V_G], v+M[V_G])$, we find on the one hand it will be
$$\Ext^0(\OO_v,\OO_v)-\Ext^1(\OO_v,\OO_v)-\Ext^2(\OO_v,\OO_v)$$
Since we know $G\in SL_2$, we know for that for the core we will have $\dim\Hilb_{v+M[V_G]}=0$, and hence $\Ext^1(\OO_v,\OO_v)=0$.

Since $\OO_v$ is a quotient of $R$, which is generated by a single element of trivial weight, $\Ext^0(\OO_v,\OO_v)=v_0+M$.

Similarly, since $G\subset SL_2$, we have $K_{[C^2/G]}=\OO_{[\C^2/G]}$, and so Serre duality gives that $\Ext^2(\OO_v,\OO_v)=v_0+M$ as well.  Thus, we have found
$$\chi(v+M[V_G],v+M[V_G])=2v_0+2M$$
On the other hand, Riemann-Roch and the fact that $V_G\in\Ker(Q_{M})$ gives

gives that $\chi(v+M[V_G],v+M[V_G])=Q_M(v,v)$.  Thus, we have $M=\frac{1}{2}Q_M(v,v)-v_0$, as desired.
\end{proof}

For $v\in S^0_G$

\begin{lemma}
Let $k$ be the index of $K_{[\C^2/G]}$.

We have
$$M_v=\frac{1}{2}\left(Q_M(v)+\dim\Hilb_{\tilde{v}} -v_0-v_k\right)$$
In particular, since we know $M_v$ is a piecewise quadratic function of $V$, we see that $\dim\Hilb_{\tilde{v}}$ is also a piecewise quadratic function of $v$.

\end{lemma}

\begin{proof}
Note that in the proof we used $G\subset SL_2$ in two places.  Once was just for Serre duality.  Serre duality still holds for $G$ not in $SL_2$, we must just factor the canonical bundle $K_{[\C^2/G]}$ in.

The second place was in knowing that $\dim \Hilb_{\tilde{v}}=0$; we must include that term as well now.

\end{proof}
\section{Chen-Ruan cohomology and the disconnected conjecture}


\subsection{Conjectural product formula}

To state our conjectural formula, we will use the Pochhammer symbol $(a;x)_\infty:=\prod_{\ell\geq 0} (1-ax^\ell)$.
\begin{example}
Using the Pochhammer symbol, G\"ottsche's formula becomes:
$$\sum_{n\geq 0} b_k(\Hilb_n(S))t^kq^n=\frac{(-qt;qt^2)_\infty^{b_1}(-qt^3;qt^2)_\infty^{b_3}}{(q;qt^2)_\infty^{b_0}}\frac{1}{(qt^2;qt^2)_\infty^{b_2}}\frac{1}{(qt^4;qt^2)_\infty^{b_4}}$$
\end{example}

In \cite{GLMequivariant}, we have the following conjectural product formula 
{Conjecture (Gusein-Zade, Luengo, Melle-Hern\'andez)}

$$\DC_{1/3}=\frac{1}{(q;t^2q^3)_\infty}\frac{1}{(q^2t^2;t^2q^3)_\infty}\frac{1}{(q^3;t^2q^3)_\infty}$$

Setting $t=1$ should just give the partition function; indeed, we see that this is just the Euler product expansion with some factors of $t$ inserted, with the power of $t$ multiplying $q^n$ depends on $n$ mod 3:

$$\DC_{1/3}=\frac{1}{(1-q)}\frac{1}{(1-qt^2)}\frac{1}{(1-q^3)}\frac{1}{(1-q^4t^2)}
\frac{1}{(1-q^5t^4)}\frac{1}{(1-q^6t^2)}\cdots$$

 It seems in general that if $G\cap SL_2=\{1\}$ then
$$\DC_{G}=\prod_{h=1}^r \frac{1}{(q^h t^{\epsilon(h)}; q^r t^2)_\infty}$$
with $\epsilon(h)$ either 2 or 0; the question is then to describe $\epsilon(h)$.

In G\"ottsche's formula, $\epsilon(h)=0$ corresponds to $b_0$, and $\epsilon(h)=2$ corresponds to $b_2$, and so we might hope for a description of the $\epsilon(h)$ in terms of the cohomology of the stack $[\C^2/G]$.  That is exactly what we propose, using Chen-Ruan cohomology.



\subsection{Chen-Ruan cohomology}

The Chen-Ruan cohomology $H_{CR}^*(\mathcal{X})$ of an orbifold $\mathcal{X}$ was discovered as a byproduct of defining the quantum cohomology of such orbifolds \cite{chenruancohomology}.  As a vector space, the Chen-Ruan cohomology is the usual cohomology of the inertial orbifold $\mathcal{IX}$ of $\mathcal{X}$.  As a set $\mathcal{IX}$ is the space of constant maps from $S^1$ to $\mathcal{X}$; more algebraically, 
$$\mathcal{IX}=\{(x, (g)| x\in \mathcal{X}, (g)\in\textrm{conj}(G_x)\}$$
Every isotropy group $G_x$ has an identity element $e_x$, the subset of $(x, e_x)$ naturally forms a copy of $X$.  Elements $(x,(g))$ with $(g)$ nontrivial form other components of $\mathcal{IX}$ called \emph{twisted sectors}.

Thus, for $\mathcal{X}=[\C^2/G]$, we see that 
$$H_{CR}^*(\mathcal{X}) =H^*(\mathcal{IX})=\oplus_{g\in\textrm{conj}(G)} (\C^2)^g$$
has a basis indexed by conjugacy classes of $G$.

However, Chen-Ruan cohomology has a different product and grading than $H^*(\mathcal{IX})$.  Each twisted sector has a a degree shifting number $\iota(g)$, obtained as follows.

Since $g\in G_x$, and $g$ acts on $T_x$.  It acts trivially on the tangent directions to fix($g$), and nontrivial on the normal directions.  Diagonalizing the action on the normal bundle, we see that $g$ is a diagonal matrix with entries 
$$(\exp(2\pi i a_1/r), \exp(2\pi i a_2/r), \cdots \exp(2\pi i a_m))$$
Then $\iota(g)=\sum a_i/r$; sometimes called the logarithmic trace of $g$.

The grading shift number is in general only a rational number -- $\iota(g)\in \Z$ if and only if the determinant of $g$ is trivial.  Thus, in case all isotropy groups $G_x$ are in $SL_2$, then the Chen-Ruan cohomology is integrally graded.

\begin{example}[Antidiagonal action]
When $G\subset SL_2$, we have that 
$$\iota(g)=\left\{\begin{array}{rl} 0 & g=0 \\
1 & g\neq 0 \end{array}\right.
$$

Thus, the dimension of $H_{CR}^*([\C^2/G])$ is equal to the number of conjugacy classes of $G$ (which is the number of irreps of $G$.  We have $H_{CR}^0$ is one dimensional, with the rest of the classes being two dimensional.  Thus we have

$$H_{CR}^*([\C^2/G])\cong H^*(\widetilde{S}_G)$$
as graded vector spaces (actually, as rings in this case).  
\end{example}


\begin{theorem}[Yasuda \cite{yasuda}] \label{thm:yasuda}
Let $\mathcal{X}$ an effective orbifold, and $\widetilde{X}\to|\mathcal{X}|$ a crepant resolution of the coarse moduli space.  Then :
$$H_{CR}^*(\mathcal{X})=H^*(\widetilde{X})$$
as graded vector spaces.  
\end{theorem}

Note that the products do not necessarily agree; quantumn corrections are needed; the \emph{Crepant Resolution Conjecture} states that, properly understood, the quantumn cohomology of $\mathcal{X}$ and $\widetilde{X}$ should agree.  See \cite{CoatesRuan} for discussion of the details and reference to other sources.


\begin{example}
Let $\Z_r$ act diagonally, with element $g_k$ acting as $(\exp(k2\pi i/r),\exp(k2\pi i/r))$.  Then we have $\iota(g_k)=2k/r$.
\end{example}




The Chen-Ruan cohomology of $[\C^2/G]$ is rationally graded, with $d$ with $0\leq d < 4$


$$0\to G\cap SL_2\to G \to \C^*$$








Our conjectural product formula for $\DC_G$ is easiest to state in case $G\cap SL_2=1$.  In this case, the action of $G$ on $\wedge T^*\C^2$ is faithful; taking $r$ times the logarithmic trace of this action gives a bijection between $G$ and $\{0,\dots, r-1\}$.


Let $F(g)$ and $I(g)$ denote the fractional and integral parts of $\iota(g)$. 

If $G\cap SL_2=\{1\}$, then $F(G)$ gives a bijection between $G$ and $\{0, 1/r,\dots, (r-1)/r\}$.
\begin{conjecture}[Johnson]
Let $G$ be cyclic, and define $k=|G\cap SL_2|$

$$\mathcal{H}_G(q,t)= \frac{(q^k;q^k)^k_\infty}{(q,q)_\infty} \prod_{g\in G}\frac{1}{(q^{r(1-F(g))} t^{2I(g)},q^rt^2)_\infty}$$

\end{conjecture}


\begin{example}[Diagonal action, $r$-odd]
Let $r=2k+1$.   The element of $\Z_r$ that acts on $K$ as $\exp(2\pi i/r)$ acts 1on the tangent space as $\exp(2\pi i k/r)$, and thus as $\iota=2k/(2k+1)<1$.  

Odd powers of this element will have $\iota<1$, while even powers will have $\iota>1$, giving 

In the limit as $r\to\infty$ odd, we get Buryak-Feigin's result

$$\prod_{n \text{ odd}} \frac{1}{1-q^n}\prod_{m \text{ even}}\frac{1}{1-tq^m}$$
\end{example}

In the examples that follow, we will use the following extension of the Pochhammer symbol:

$$(a_1,\dots, a_n; b)_\infty=\prod_{i=1}^n (a_i;b)_\infty$$

\begin{example}[$S_{2/5}$]
We have
$$\begin{array}{r|c|l}
g & r(1-F(g)) & I(g) \\
\hline
1 & 2 & 0 \\
2 & 4 & 1 \\
3 & 1 & 0 \\
4 & 3 & 1 \\
\end{array}
$$

Thus, we have


$$
\frac{1}{(q, q^2,q^3t, q^4t, q^5t^2; q^5t^2)_\infty}
$$
\end{example}


Appears Buryak-Feigin plays well with colored box counting from cores.



\section{Generalized cores and applications}


\section{Toward bijections: Generalized Dyson maps} \label{sec:dyson}

In this section we point to some partial Our main product formula 

In the case of diagonal $\C^*$ action, the $t=0$ coefficient of our general product formula reduces to Euler's theorem that the number of partitions of $n$ into distinct parts is the number of $n$ into odd parts.  Buryak, Feigin and Nakajima's result then gives a $t$ extension of this to all partitions: the number of partitions of $n$ with $d_{(1,1)}=k$ is the number of partitions of $n$ with $k$ even parts.

There are at least three bijective proofs of Euler's identity, see for instance \cite{pak}: Sylvester's bijection, Glaisher's bijection, and the iterated Dyson map.  This last bijection appears to be the one pertinent here.

In the next subsection we briefly recall this bijection, then in 
\subsection{Iterated Dyson map} \label{sec:review-dyson}


\subsection{Asymptotic behavior} \label{sec-asymptotic-dyson}

\subsection{Application to finite \texorpdfstring{$G$}{G}} 


\subsection{Generalizations} \label{sec:generalized-dyson}




\bibliographystyle{plain}
\bibliography{GHilb}

\end{document}
